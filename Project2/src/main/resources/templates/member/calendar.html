<!DOCTYPE html>
<html lang='en'>

<head>
	<meta charset='utf-8' />
	<script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js'></script>
	<link href='https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css' rel='stylesheet'>
	<link href='https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css' rel='stylesheet'>
	<link href="/css/calendar.css" rel="stylesheet">
	<script src="https://code.jquery.com/jquery-3.7.1.min.js"
		integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
	<script>
		$(function () {
			$("#eventForm").hide();
		});
		document.addEventListener('DOMContentLoaded', function () {

			var calendarEl = document.getElementById('calendar');
			var calendar = new FullCalendar.Calendar(calendarEl, {
				themesystem: 'bootstrap',
				initialView: 'dayGridMonth',
				selectable: true,
				editable: true,
				headerToolbar: {
					left: 'prevYear,prev,today,next,nextYear',
					center: 'title',
					right: ''
				},
				// 날짜 클릭시 이벤트
				dateClick: function (event) {
					$("#eventForm").show();
					$("#deleteBtn").hide();
					$("#updateBtn").html("저장");
					$("#eventFormTitle").html("event 등록").css(
						{
							backgroundColor: 'aliceblue',
							color: 'black',
						}
					);

				}

			});
			calendar.render();
		});


		function closeForm(obj) {
			$(obj).parent().parent().hide();
		}


	</script>

</head>

<body>

	<div id='calendar-box'>
		<div id='calendar'></div>
	</div>

	<div id="eventForm">
		<div id="eventFormTitle"></div>
		<input type="hidden" name="id" id="id" >
		<div style="margin-left: 3px;">
			<label>title</label>
			<input type="text" id="title" name="title" style="margin-bottom: 5px;"><br />
		</div>
		<div style="margin-left: 3px;">
			<label>username</label>
			<input type="text" id="username" name="username" style="margin-bottom: 5px; "><br />
		</div>
		<div style="margin-left: 3px;">
			<label>startDate</label>
			<input type="text" id="startDate" name="startDate" style="margin-bottom: 5px;"><br />
		</div>
		<div style="margin-left: 3px;">
			<label>endDate</label>
			<input type="text" id="endDate" name="endDate" style="margin-bottom: 5px;">
			하루종일 <input type="checkbox" id="allDay" name="allDay" style="margin-bottom: 5px;" value="1"><br />
		</div>
		<div style="margin-left: 3px;">	
			<label>category</label>
			<select name="category" id="category" style="margin-bottom: 5px;">
				<option value="anniversity" style="color: indianred;">기념일</option>
				<option value="travel" style="color: cornflowerblue;">여행</option>
				<option value="schedule" style="color: limegreen">일정</option>
			</select>
		</div>
		<div id="buttonGroup" style="margin-right: 3px;">
			<button class="btn btn-sm btn-outline-dark" id="updateBtn">수정완료</button>
			<button class="btn btn-sm btn-outline-dark" id="deleteBtn">삭제하기</button>
			<button onclick="closeForm(this)" class="btn btn-sm btn-outline-dark" id="updateBtn">닫기</button>
		</div>
	</div>
</body>

</html>