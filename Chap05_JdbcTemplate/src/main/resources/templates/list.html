<!doctype html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8" />
	<title>Document</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"></script>
	<script>
		$(function(){
			
		});
		// 삭제하기 함수
		function deletePerson(idx){
			if(confirm(idx+"번을 정말로 삭제하시겠습니까?")){
				// 삭제하기 주소로 이동한다.
				location.href="deleteOk?idx="+idx;
			}
		}
	</script>	
</head>
<body>
	<form action="insertOk" method="post">
		<input type="text" name="name" placeholder="이름" required="required"/>
		<input type="number" name="age" max="100" min="0" value="20"/>세
		<input type="submit" value="저장" class="btn btn-outline-success"/>
	</form>
	<hr />
	<h2> 전체 : [[${#lists.size(list)}]]명</h2>
	<ul>
		<li th:each="vo:${list}">
			<span>[[${vo.idx}]]</span>. [[${vo.name}]]님 ([[${vo.age}]]세)
			<button id="deleteBtn" class="btn btn-outline-danger" th:onclick="deletePerson([[${vo.idx}]])">삭제</button>
		</li>
	</ul>
</body>
</html>